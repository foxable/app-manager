<div bsModal #modal="bs-modal" [config]="{backdrop: 'static'}" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">{{ title }}</h3>        
            </div>
            <div class="modal-body">
                <div class="alert alert-danger" *ngIf="errors.length > 0">
                    <ul *ngFor="let errorsByField of errors">
                        <li *ngFor="let error of errorsByField.errors">{{ error }}</li>
                    </ul>
                </div>
                <tabset>
                    <tab heading="Application" active="true">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label for="name" class="col-sm-3 control-label">Name</label>
                                <div class="col-sm-6">
                                    <input type="text" id="name" class="form-control" [(ngModel)]="app.name" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="website_url" class="col-sm-3 control-label">Website-URL</label>
                                <div class="col-sm-6">
                                    <input type="text" id="website_url" class="form-control" [(ngModel)]="app.websiteUrl" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="download_url" class="col-sm-3 control-label">Download-URL</label>
                                <div class="col-sm-6">
                                    <input type="text" id="download_url" class="form-control" [(ngModel)]="app.downloadUrl" />
                                </div>
                            </div>                
                        </div>
                    </tab>
                    <tab heading="Version Provider">
                        <div class="form-horizontal"> 
                            <div class="form-group">
                                <label for="version_provider" class="col-sm-3 control-label">Version Provider</label>
                                <div class="col-sm-6">
                                    <select type="text" id="version_provider" class="form-control" [(ngModel)]="app.versionProviderType" (ngModelChange)="changeVersionProvider($event)">
                                        <option *ngFor="let versionProvider of versionProviders" [value]="versionProvider.id">{{versionProvider.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <!-- static version provider -->
                            <div *ngIf="app.versionProviderType === 'static'">
                                <div class="form-group">
                                    <label for="latest_version" class="col-sm-3 control-label">Latest Version</label>
                                    <div class="col-sm-6">
                                        <input type="text" id="latest_version" class="form-control" [(ngModel)]="app.versionProvider.latestVersion" (ngModelChange)="changeLatestVersion($event)"/>
                                    </div>
                                </div>
                            </div>
                            <!-- HTML5 version provider -->
                            <div *ngIf="app.versionProviderType === 'html5'">
                                <div class="form-group">
                                    <label for="html5provider_url" class="col-sm-3 control-label">Provider URL</label>
                                    <div class="col-sm-6">
                                        <input type="text" id="html5provider_url" class="form-control" [(ngModel)]="app.versionProvider.providerUrl" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="html5provider_xpath" class="col-sm-3 control-label">XPath Selector</label>
                                    <div class="col-sm-6">
                                        <input type="text" id="html5provider_xpath" class="form-control" [(ngModel)]="app.versionProvider.xpath" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="html5provider_regex" class="col-sm-3 control-label">RegExp</label>
                                    <div class="col-sm-6">
                                        <input type="text"  id="html5provider_regex" class="form-control" [(ngModel)]="app.versionProvider.regex" />
                                    </div>
                                </div>
                            </div>
                        </div>   
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary" (click)="save()">
                    <i class="fa fa-check"></i> Save Application
                </button>
                <button class="btn btn-default" (click)="cancel()">
                    <i class="fa fa-times"></i> Cancel
                </button>
            </div>
        </div>
    </div>
</div>